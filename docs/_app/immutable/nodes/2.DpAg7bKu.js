import{b as z,t as q}from"../chunks/disclose-version.Cf7drJDV.js";import{O as W,b as J,h as M,s as P,c as j,y as tt,M as Q,H as at,d as D,e as S,f as T,r as F,a as Z,p as et,ar as N,A as H,as as rt,at as nt,au as st,S as it,a4 as O,av as ot,aw as lt,L as ft,ax as ct,$ as ut,C as dt,I as vt,F as ht,ay as Y,a9 as V,az as gt,P as yt,Q as _t,T as xt,l as A,Y as pt,W as b,X as C,a0 as mt,V as Mt}from"../chunks/runtime.CGD-ghwu.js";import{i as Et}from"../chunks/lifecycle.B7iCcApc.js";import{o as kt}from"../chunks/index-client.u4mif8VE.js";import{S as X,r as Tt,c as wt,t as At}from"../chunks/transform.F9Sw9Qjc.js";import"../chunks/paths.Dq-tPjvY.js";let R=null;function Ct(a,t){return t}function It(a,t,r,s){for(var i=[],l=t.length,c=0;c<l;c++)lt(t[c].e,i,!0);var u=l>0&&i.length===0&&r!==null;if(u){var d=r.parentNode;ft(d),d.append(r),s.clear(),E(a,t[0].prev,t[l-1].next)}ct(i,()=>{for(var n=0;n<l;n++){var f=t[n];u||(s.delete(f.k),E(a,f.prev,f.next)),ut(f.e,!u)}})}function Pt(a,t,r,s,i,l=null){var c=a,u={flags:t,items:new Map,first:null};{var d=a;c=M?P(dt(d)):d.appendChild(W())}M&&j();var n=null,f=!1;J(()=>{var o=r(),g=tt(o)?o:o==null?[]:Q(o),v=g.length;if(f&&v===0)return;f=v===0;let h=!1;if(M){var p=c.data===at;p!==(v===0)&&(c=D(),P(c),S(!1),h=!0)}if(M){for(var e=null,y,m=0;m<v;m++){if(T.nodeType===8&&T.data===vt){c=T,h=!0,S(!1);break}var x=g[m],_=s(x,m);y=$(T,u,e,null,x,_,m,i,t),u.items.set(_,y),e=y}v>0&&P(D())}M||St(g,u,c,i,t,s),l!==null&&(v===0?n?F(n):n=Z(()=>l(c)):n!==null&&et(n,()=>{n=null})),h&&S(!0),r()}),M&&(c=T)}function St(a,t,r,s,i,l){var c=a.length,u=t.items,d=t.first,n=d,f,o=null,g=[],v=[],h,p,e,y;for(y=0;y<c;y+=1){if(h=a[y],p=l(h,y),e=u.get(p),e===void 0){var m=n?n.e.nodes_start:r;o=$(m,t,o,o===null?t.first:o.next,h,p,y,s,i),u.set(p,o),g=[],v=[],n=o.next;continue}if(Nt(e,h,y),e.e.f&N&&F(e.e),e!==n){if(f!==void 0&&f.has(e)){if(g.length<v.length){var x=v[0],_;o=x.prev;var k=g[0],w=g[g.length-1];for(_=0;_<g.length;_+=1)L(g[_],x,r);for(_=0;_<v.length;_+=1)f.delete(v[_]);E(t,k.prev,w.next),E(t,o,k),E(t,w,x),n=x,o=w,y-=1,g=[],v=[]}else f.delete(e),L(e,n,r),E(t,e.prev,e.next),E(t,e,o===null?t.first:o.next),E(t,o,e),o=e;continue}for(g=[],v=[];n!==null&&n.k!==p;)n.e.f&N||(f??(f=new Set)).add(n),v.push(n),n=n.next;if(n===null)continue;e=n}g.push(e),o=e,n=e.next}if(n!==null||f!==void 0){for(var I=f===void 0?[]:Q(f);n!==null;)n.e.f&N||I.push(n),n=n.next;var K=I.length;if(K>0){var U=c===0?r:null;It(t,I,U,u)}}H.first=t.first&&t.first.e,H.last=o&&o.e}function Nt(a,t,r,s){rt(a.v,t),a.i=r}function $(a,t,r,s,i,l,c,u,d){var n=R;try{var f=(d&nt)!==0,o=(d&st)===0,g=f?o?it(i):O(i):i,v=d&ot?O(c):c,h={i:v,v:g,k:l,a:null,e:null,prev:r,next:s};return R=h,h.e=Z(()=>u(a,g,v),M),h.e.prev=r&&r.e,h.e.next=s&&s.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),s!==null&&(s.prev=h,s.e.prev=h.e),h}finally{R=n}}function L(a,t,r){for(var s=a.next?a.next.e.nodes_start:r,i=t?t.e.nodes_start:r,l=a.e.nodes_start;l!==s;){var c=ht(l);i.before(l),l=c}}function E(a,t,r){t===null?a.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function B(a,t,r,s){var i=a.__attributes??(a.__attributes={});M&&(i[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="style"&&"__styles"in a&&(a.__styles={}),t==="loading"&&(a[Y]=r),r==null?a.removeAttribute(t):typeof r!="string"&&bt(a).includes(t)?a[t]=r:a.setAttribute(t,r))}var G=new Map;function bt(a){var t=G.get(a.nodeName);if(t)return t;G.set(a.nodeName,t=[]);for(var r,s=V(a),i=Element.prototype;i!==s;){r=gt(s);for(var l in r)r[l].set&&t.push(l);s=V(s)}return t}function Rt(a){if(!M&&a.loading==="lazy"){var t=a.src;a[Y]=null,a.loading="eager",a.removeAttribute("src"),requestAnimationFrame(()=>{a[Y]!=="eager"&&(a.loading="lazy"),a.src=t})}}function Yt(a,t,r){a=+a,t=+t,r=(i=arguments.length)<2?(t=a,a=0,1):i<3?1:+r;for(var s=-1,i=Math.max(0,Math.ceil((t-a)/r))|0,l=new Array(i);++s<i;)l[s]=a+s*r;return l}function zt(a){return typeof a=="string"?new X([[document.querySelector(a)]],[document.documentElement]):new X([[a]],Tt)}function Dt(a){let t;for(;t=a.sourceEvent;)a=t;return a}function Ht(a,t){if(a=Dt(a),t===void 0&&(t=a.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=a.clientX,s.y=a.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[a.clientX-i.left-t.clientLeft,a.clientY-i.top-t.clientTop]}}return[a.pageX,a.pageY]}function Ot(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.text()}function Vt(a,t){return fetch(a,t).then(Ot)}function Xt(a){return function(t,r,s){return arguments.length===2&&typeof r=="function"&&(s=r,r=void 0),Vt(t,r).then(function(i){return a(i,s)})}}var Lt=Xt(wt),Bt=q('<div class="card svelte-xkdk4"><a target="_self"><img alt="Imgs de los proyectos" loading="lazy" class="svelte-xkdk4"></a></div>'),Gt=q('<div class="container svelte-xkdk4"><header id="header-sketch" style="width: 100%; height: 200px; background: #fff;" class="svelte-xkdk4"></header> <div class="galeria svelte-xkdk4"></div></div>');function Ut(a,t){yt(t,!1);let r=mt([]),s="assets/img/";async function i(){const u="https://docs.google.com/spreadsheets/d/e/2PACX-1vQU6PjWzqXNeb4P4KdhZ64Z_1ImvEd0NOQv0itGFV3hM89oZdBG3zQYuc9aXbfmxLj13HPOyDt7dO_O/pub?output=csv";try{const d=await Lt(u);xt(r,d),console.log("Datos cargados:",A(r))}catch(d){console.error("Error fetching data:",d)}finally{}}kt(()=>{i();const u=zt("#header-sketch").append("svg").attr("width","100%").attr("height","100%").attr("viewBox","0 0 1800 200").attr("preserveAspectRatio","xMidYMid meet"),d=1800,n=200,f=100,o=getComputedStyle(document.documentElement).getPropertyValue("--primary-color").trim(),g=getComputedStyle(document.documentElement).getPropertyValue("--secondary-color").trim(),v=Yt(f).map(()=>({x:Math.random()*d,y:Math.random()*n,angle:Math.random()*2*Math.PI})),h=u.selectAll("line").data(v).enter().append("line").attr("x1",e=>e.x).attr("y1",e=>e.y).attr("x2",e=>e.x+Math.cos(e.angle)*10).attr("y2",e=>e.y+Math.sin(e.angle)*10).attr("stroke",g).attr("stroke-width",2).attr("stroke-opacity",.7);u.append("text").attr("x",0).attr("y",100).attr("font-family","Helvetica, sans-serif").attr("font-size","6rem").attr("fill","black").text("Montajes"),u.append("text").attr("x",1600).attr("y",100).attr("font-family","Helvetica, sans-serif").attr("font-size","1.4rem").attr("fill","black").text("Arte, ética y política");function p(){v.forEach(e=>{e.x+=Math.cos(e.angle)*2,e.y+=Math.sin(e.angle)*2,e.angle+=(Math.random()-.5)*.2,e.x>d&&(e.x=0),e.x<0&&(e.x=d),e.y>n&&(e.y=0),e.y<0&&(e.y=n)}),h.attr("x1",e=>e.x).attr("y1",e=>e.y).attr("x2",e=>e.x+Math.cos(e.angle)*10).attr("y2",e=>e.y+Math.sin(e.angle)*10).attr("stroke",e=>Math.sqrt((e.x-20)**2+(e.y-50)**2)<100?o:g)}At(p),u.on("mousemove",function(e){const[y,m]=Ht(e);v.forEach(x=>{const _=y-x.x,k=m-x.y;Math.sqrt(_*_+k*k)<100&&(x.angle=Math.atan2(k,_))})})}),Et();var l=Gt(),c=pt(b(l),2);Pt(c,5,()=>A(r),Ct,(u,d)=>{var n=Bt(),f=b(n),o=b(f);C(f),C(n),Mt(()=>{B(f,"href",`#obra/${A(d).id}`),B(o,"src",s+A(d).path)}),Rt(o),z(u,n)}),C(c),C(l),z(a,l),_t()}export{Ut as component};
