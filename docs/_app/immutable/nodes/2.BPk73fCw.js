import{b as B,t as U}from"../chunks/disclose-version.Dfbd4PGl.js";import{O as J,b as K,h as T,s as N,c as j,y as tt,M as q,H as rt,d as G,e as R,f as S,r as Q,a as W,p as et,a1 as F,A as P,a2 as at,a3 as st,a4 as nt,S as ot,a5 as b,a6 as it,a7 as lt,L as ft,a8 as ct,$ as ut,C as vt,I as dt,F as ht,a9 as $,aa as z,ab as pt,P as gt,Q as _t,T as yt,l as k,Y as mt,W as H,X as C,a0 as xt,V as Et}from"../chunks/runtime.G7MYMVhr.js";import{i as At}from"../chunks/lifecycle.C3ITscDC.js";import{o as wt}from"../chunks/index-client._Zoc0sUp.js";import{S as L,r as Tt,c as Mt,t as Dt}from"../chunks/transform.F9Sw9Qjc.js";import"../chunks/paths.CkDVCoZa.js";let Y=null;function It(r,t){return t}function St(r,t,e,s){for(var l=[],v=t.length,d=0;d<v;d++)lt(t[d].e,l,!0);var f=v>0&&l.length===0&&e!==null;if(f){var g=e.parentNode;ft(g),g.append(e),s.clear(),M(r,t[0].prev,t[v-1].next)}ct(l,()=>{for(var a=0;a<v;a++){var o=t[a];f||(s.delete(o.k),M(r,o.prev,o.next)),ut(o.e,!f)}})}function kt(r,t,e,s,l,v=null){var d=r,f={flags:t,items:new Map,first:null};{var g=r;d=T?N(vt(g)):g.appendChild(J())}T&&j();var a=null,o=!1;K(()=>{var i=e(),_=tt(i)?i:i==null?[]:q(i),h=_.length;if(o&&h===0)return;o=h===0;let u=!1;if(T){var E=d.data===rt;E!==(h===0)&&(d=G(),N(d),R(!1),u=!0)}if(T){for(var p=null,x,A=0;A<h;A++){if(S.nodeType===8&&S.data===dt){d=S,u=!0,R(!1);break}var n=_[A],c=s(n,A);x=Z(S,f,p,null,n,c,A,l,t),f.items.set(c,x),p=x}h>0&&N(G())}T||Ct(_,f,d,l,t,s),v!==null&&(h===0?a?Q(a):a=W(()=>v(d)):a!==null&&et(a,()=>{a=null})),u&&R(!0),e()}),T&&(d=S)}function Ct(r,t,e,s,l,v){var d=r.length,f=t.items,g=t.first,a=g,o,i=null,_=[],h=[],u,E,p,x;for(x=0;x<d;x+=1){if(u=r[x],E=v(u,x),p=f.get(E),p===void 0){var A=a?a.e.nodes_start:e;i=Z(A,t,i,i===null?t.first:i.next,u,E,x,s,l),f.set(E,i),_=[],h=[],a=i.next;continue}if(Nt(p,u,x),p.e.f&F&&Q(p.e),p!==a){if(o!==void 0&&o.has(p)){if(_.length<h.length){var n=h[0],c;i=n.prev;var y=_[0],m=_[_.length-1];for(c=0;c<_.length;c+=1)X(_[c],n,e);for(c=0;c<h.length;c+=1)o.delete(h[c]);M(t,y.prev,m.next),M(t,i,y),M(t,m,n),a=n,i=m,x-=1,_=[],h=[]}else o.delete(p),X(p,a,e),M(t,p.prev,p.next),M(t,p,i===null?t.first:i.next),M(t,i,p),i=p;continue}for(_=[],h=[];a!==null&&a.k!==E;)a.e.f&F||(o??(o=new Set)).add(a),h.push(a),a=a.next;if(a===null)continue;p=a}_.push(p),i=p,a=p.next}if(a!==null||o!==void 0){for(var w=o===void 0?[]:q(o);a!==null;)a.e.f&F||w.push(a),a=a.next;var D=w.length;if(D>0){var I=d===0?e:null;St(t,w,I,f)}}P.first=t.first&&t.first.e,P.last=i&&i.e}function Nt(r,t,e,s){at(r.v,t),r.i=e}function Z(r,t,e,s,l,v,d,f,g){var a=Y;try{var o=(g&st)!==0,i=(g&nt)===0,_=o?i?ot(l):b(l):l,h=g&it?b(d):d,u={i:h,v:_,k:v,a:null,e:null,prev:e,next:s};return Y=u,u.e=W(()=>f(r,_,h),T),u.e.prev=e&&e.e,u.e.next=s&&s.e,e===null?t.first=u:(e.next=u,e.e.next=u.e),s!==null&&(s.prev=u,s.e.prev=u.e),u}finally{Y=a}}function X(r,t,e){for(var s=r.next?r.next.e.nodes_start:e,l=t?t.e.nodes_start:e,v=r.e.nodes_start;v!==s;){var d=ht(v);l.before(v),v=d}}function M(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function O(r,t,e,s){var l=r.__attributes??(r.__attributes={});T&&(l[t]=r.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&r.nodeName==="LINK")||l[t]!==(l[t]=e)&&(t==="style"&&"__styles"in r&&(r.__styles={}),t==="loading"&&(r[$]=e),e==null?r.removeAttribute(t):typeof e!="string"&&Rt(r).includes(t)?r[t]=e:r.setAttribute(t,e))}var V=new Map;function Rt(r){var t=V.get(r.nodeName);if(t)return t;V.set(r.nodeName,t=[]);for(var e,s=z(r),l=Element.prototype;l!==s;){e=pt(s);for(var v in e)e[v].set&&t.push(v);s=z(s)}return t}function Ft(r){if(!T&&r.loading==="lazy"){var t=r.src;r[$]=null,r.loading="eager",r.removeAttribute("src"),requestAnimationFrame(()=>{r[$]!=="eager"&&(r.loading="lazy"),r.src=t})}}function Ht(r){return typeof r=="string"?new L([[document.querySelector(r)]],[document.documentElement]):new L([[r]],Tt)}function Yt(r){let t;for(;t=r.sourceEvent;)r=t;return r}function $t(r,t){if(r=Yt(r),t===void 0&&(t=r.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var s=e.createSVGPoint();return s.x=r.clientX,s.y=r.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var l=t.getBoundingClientRect();return[r.clientX-l.left-t.clientLeft,r.clientY-l.top-t.clientTop]}}return[r.pageX,r.pageY]}function Bt(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);return r.text()}function Gt(r,t){return fetch(r,t).then(Bt)}function Pt(r){return function(t,e,s){return arguments.length===2&&typeof e=="function"&&(s=e,e=void 0),Gt(t,e).then(function(l){return r(l,s)})}}var bt=Pt(Mt),zt=U('<div class="card svelte-16cti5y"><a target="_self"><img alt="Imgs de los proyectos" loading="lazy" class="svelte-16cti5y"></a></div>'),Lt=U('<div class="container svelte-16cti5y"><header id="header-sketch" style="width: 100%; height: 200px; background: #fff;" class="svelte-16cti5y"></header> <div class="galeria svelte-16cti5y"></div></div>');function Wt(r,t){gt(t,!1);let e=xt([]),s="assets/img/";async function l(){const f="https://docs.google.com/spreadsheets/d/e/2PACX-1vSDcmREoBGgchu12xsYGfmZndWhOHBHrq0ekTZv2eDEfF5py8yEvQoPfvjeTMU2G18AUrI9uAiUpk1J/pub?output=csv";try{const g=await bt(f);yt(e,g),console.log("Datos cargados:",k(e))}catch(g){console.error("Error fetching data:",g)}finally{}}wt(()=>{l();const f=8,g=1800,a=200,o=Math.floor(g/f),i=Math.floor(a/f),_="#FFF";let h=Array.from({length:o},(n,c)=>Array.from({length:i},(y,m)=>({state:Math.random()>.8?1:0,color:Math.random()>.5?"#6DE1D2":"#FFD63A"})));const u=Ht("#header-sketch").append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${g} ${a}`).attr("preserveAspectRatio","xMidYMid meet"),E=u.selectAll("rect").data(h.flat().map((n,c)=>({x:c%o*f,y:Math.floor(c/o)*f,state:n.state,color:n.color}))).enter().append("rect").attr("x",n=>n.x).attr("y",n=>n.y).attr("width",f).attr("height",f).attr("fill",n=>n.state===1?n.color:_),p=u.append("text").attr("x",40).attr("y",120).attr("font-family","Helvetica, sans-serif").attr("font-size","6rem").attr("fill","#000").attr("font-weight","bold").text("Montajes"),x=u.append("text").attr("x",1300).attr("y",160).attr("font-family","Helvetica, sans-serif").attr("font-size","1.4rem").attr("fill","#000").text("Arte, ética y política (2025-1)");function A(n){const c=n.map(y=>y.map(m=>({...m})));for(let y=1;y<o-1;(y+=1)-1)for(let m=1;m<i-1;(m+=1)-1){let w=0;for(let D=-1;D<=1;(D+=1)-1)for(let I=-1;I<=1;(I+=1)-1)w+=n[y+D][m+I].state;w-=n[y][m].state,n[y][m].state===1&&(w<2||w>3)?c[y][m].state=0:n[y][m].state===0&&w===3&&(c[y][m].state=1,c[y][m].color=Math.random()>.5?"#6DE1D2":"#FFD63A")}return c}Dt(()=>{h=A(h),E.data(h.flat().map((n,c)=>({x:c%o*f,y:Math.floor(c/o)*f,state:n.state,color:n.color}))).attr("fill",n=>n.state===1?n.color:_)}),u.on("mousemove",function(n){const[c,y]=$t(n);p.attr("transform",`translate(${c*.02},${y*.05})`),x.attr("transform",`translate(${c*.01},${y*.03})`)})}),At();var v=Lt(),d=mt(H(v),2);kt(d,5,()=>k(e),It,(f,g)=>{var a=zt(),o=H(a),i=H(o);C(o),C(a),Et(()=>{O(o,"href",`#obra/${k(g).id}`),O(i,"src",s+k(g).path)}),Ft(i),B(f,a)}),C(d),C(v),B(r,v),_t()}export{Wt as component};
